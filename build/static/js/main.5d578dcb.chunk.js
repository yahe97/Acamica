(this["webpackJsonpfirebase-acamica"]=this["webpackJsonpfirebase-acamica"]||[]).push([[0],{26:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(14),r=c.n(n),i=c(11),o=c(5),l=c(12),j=(c(26),c.p+"static/media/corazon.c759f248.svg"),d=c.p+"static/media/logo.fcde8201.svg",u=c.p+"static/media/google.a69a74bd.svg",b=c.p+"static/media/hello.0a6e74ca.svg",h=c.p+"static/media/gif.0bbdeb44.gif",p=c(21),O=c(18),m=c(16);c(35),c(28);m.a.initializeApp({apiKey:"AIzaSyACvrHEe6QECxeFgdw28q1VxjYSUaK-wBs",authDomain:"proyecto-prueba-5d824.firebaseapp.com",projectId:"proyecto-prueba-5d824",storageBucket:"proyecto-prueba-5d824.appspot.com",messagingSenderId:"49325110242",appId:"1:49325110242:web:0579704419d5b0c79affbb"});var x=m.a.firestore(),g=m.a.auth(),f=new m.a.auth.GoogleAuthProvider,v=function(){return g.signInWithPopup(f)},w=function(){return g.signOut()},k=(m.a,c(2));function N(){var e=Object(a.useState)(!1),t=(Object(l.a)(e,1)[0],g.currentUser),c=Object(a.useState)([]),s=Object(l.a)(c,2),n=s[0],r=s[1],m=Object(a.useState)({tweet:"",autor:"",usert:""}),f=Object(l.a)(m,2),N=f[0],S=f[1],C=Object(a.useState)(null),y=Object(l.a)(C,2),A=y[0],B=y[1];Object(a.useEffect)((function(){var e=x.collection("tweets").onSnapshot((function(e){var t=e.docs.map((function(e){return{tweet:e.data().tweet,autor:e.data().autor,id:e.id,likes:e.data().likes,usert:e.data().usert}}));r(t)}));return g.onAuthStateChanged((function(e){B(e),console.log(e)})),function(){return e()}}),[]);var I=function(e){var c,a=Object(o.a)(Object(o.a)({},N),{},(c={},Object(i.a)(c,e.target.name,e.target.value),Object(i.a)(c,"usert",t.email),c));S(a)},E=function(e){var t=e.children,c=Object(a.useState)(!1),s=Object(l.a)(c,2),n=s[0],r=s[1];return Object(k.jsxs)(k.Fragment,{children:[!n&&Object(k.jsx)(p.a,{onClick:function(){return r(!0)},children:"Borrar"}),Object(k.jsxs)(O.a,{show:n,onClose:function(){return r(!1)},children:[Object(k.jsx)(O.a.Header,{children:Object(k.jsx)("strong",{className:"mr-auto",children:"\xbfSeguro de Borrar?"})}),Object(k.jsx)(O.a.Body,{children:t})]})]})};return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)("img",{height:"107 px",weight:"361 px",src:d,alt:""}),A?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"user-profile",children:[Object(k.jsx)("img",{className:"user-profile-pic",src:A.photoURL,alt:""}),Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{src:b,alt:""})," "]}),Object(k.jsx)("p",{font:"white",children:A.email}),Object(k.jsx)("button",{onClick:w,children:" Log out"})]})}):Object(k.jsxs)("div",{className:"btn_login",children:[Object(k.jsx)("img",{background:"white",src:u,alt:""}),Object(k.jsx)("button",{className:"login-btn",onClick:v,children:"Sigin with Google"})]}),Object(k.jsxs)("form",{className:"formulario",children:[Object(k.jsx)("textarea",{name:"tweet",onChange:I,value:N.tweet,cols:"30",rows:"5",placeholder:"What's happening"}),Object(k.jsxs)("div",{className:"input-group",children:[Object(k.jsx)("input",{name:"autor",onChange:I,value:N.autor,type:"text",placeholder:"Type your username"}),Object(k.jsx)("button",{className:"post",onClick:function(e){e.preventDefault(),x.collection("tweets").add(N)},children:"POST"}),null==N.tweet?Object(k.jsxs)("div",{className:"loading",children:[" ",Object(k.jsx)("img",{src:h,alt:"loading"})]}):null,";"]})]}),Object(k.jsx)("h1",{children:"Tweets:"}),n.map((function(e){return Object(k.jsx)("div",{className:"tweet-container",children:Object(k.jsxs)("div",{className:"tweet",children:[Object(k.jsxs)("div",{className:"tweet-info",children:[Object(k.jsx)("p",{children:e.tweet}),Object(k.jsxs)("p",{className:"tweet-autor",children:["por: ",e.autor]})]}),Object(k.jsxs)("div",{className:"acciones",children:[A?Object(k.jsx)(k.Fragment,{children:e.usert==t.email?Object(k.jsx)(E,{children:Object(k.jsx)("button",{onClick:function(){return t=e.id,void x.doc("tweets/".concat(t)).delete();var t},className:"delete",children:"borrar"})}):Object(k.jsx)("span",{children:" "})}):Object(k.jsx)("span",{children:" "}),Object(k.jsxs)("span",{onClick:function(){return t=e.id,(c=e.likes)||(c=0),void x.doc("tweets/".concat(t)).update({likes:c+1});var t,c},className:"likes",children:[Object(k.jsx)("img",{height:"13px",src:j,alt:""}),Object(k.jsx)("span",{children:e.likes?e.likes:0})]})]})]},e.id)})}))]})}c(33);var S=document.getElementById("root");r.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(N,{})}),S)}},[[34,1,2]]]);
//# sourceMappingURL=main.5d578dcb.chunk.js.map